---
title: "에이전트를 위한 효과적인 도구 작성법"
originalTitle: "Writing Effective Tools for Agents"
author: "Ken Aizawa"
sourceUrl: "https://www.anthropic.com/engineering/writing-tools-for-agents"
translatedAt: "2026-01-12"
status: "final"
---

# 에이전트를 위한 효과적인 도구 작성법 — 에이전트와 함께

[원본 링크](https://www.anthropic.com/engineering/writing-tools-for-agents)

**발행일:** 2025년 9월 11일

**저자:** Ken Aizawa

## 요약

이 엔지니어링 문서는 AI 에이전트를 위한 고품질 도구를 구축하는 모범 사례를 탐구하며, Claude 자체가 반복적인 평가와 개선을 통해 도구를 최적화할 수 있음을 보여줍니다.

## 도구란 무엇인가?

도구는 결정론적 시스템과 비결정론적 에이전트 사이의 계약이라는 새로운 소프트웨어 패러다임을 나타냅니다. `getWeather("NYC")`가 항상 동일하게 동작하는 기존 API와 달리, 에이전트는 날씨 도구를 호출하거나, 일반 지식을 활용하거나, 명확히 하기 위한 질문을 할 수 있습니다. 이러한 예측 불가능성은 기존 소프트웨어 패턴이 아닌 에이전트 어포던스(affordances)에 특화된 도구 설계를 다시 생각하게 합니다.

## 도구 작성 방법

### 프로토타입 만들기

Claude Code를 사용해 빠른 프로토타입으로 시작하세요. 도구가 의존하는 라이브러리와 API의 문서를 제공하세요. 도구를 로컬 MCP 서버나 데스크톱 확장으로 감싸서 Claude Code나 Claude Desktop 앱에서 대화형으로 테스트할 수 있습니다.

로컬 MCP 서버를 Claude Code에 연결하려면:
```
claude mcp add <name> <command> [args...]
```

도구를 직접 테스트하고 예상 사용 사례에 대한 사용자 피드백을 수집하세요.

### 평가 실행하기

여러 번의 도구 호출이 필요한 현실적인 평가 작업을 만드세요:
- Acme Corp 프로젝트에 대해 논의할 Jane과의 회의를 예약하고, 계획 노트를 첨부하며, 회의실을 예약
- 세 번 청구된 고객 ID 9182의 모든 로그 항목을 찾고, 다른 고객도 영향을 받았는지 확인
- Sarah Chen의 취소 요청을 처리하면서 이탈 이유를 파악하고 유지 제안

프로그래밍 방식의 LLM API 호출로 간단한 에이전트 루프를 사용하세요. 에이전트에게 도구 호출 전에 추론을 출력하도록 지시하여 Chain of Thought 동작을 유도하세요. 정확도, 실행 시간, 토큰 소비량, 도구 오류 등의 지표를 수집하세요.

### 결과 분석 및 에이전트와 협업하기

평가 기록을 검토하여 에이전트가 어려움을 겪는 부분을 파악하세요. 도구 호출 패턴을 분석하여 비효율성을 발견하세요. 기록을 연결하여 Claude Code에 붙여넣으면 에이전트가 결과를 분석하고 자동으로 개선점을 제안합니다.

## 효과적인 도구 작성을 위한 원칙

### 적절한 도구 선택하기

도구가 많다고 항상 더 좋은 결과를 내지는 않습니다. 에이전트는 기존 소프트웨어와는 다른 어포던스를 가집니다—컴퓨터 메모리는 풍부하지만 에이전트는 제한된 컨텍스트를 가집니다. `list_contacts`를 구현하기보다는 사람이 검색하는 방식에 맞게 `search_contacts` 도구를 만드세요.

도구는 여러 작업을 통합할 수 있습니다:
- `list_users`, `list_events`, `create_event` 대신 가용성을 찾아주는 `schedule_event` 구현
- `read_logs` 대신 컨텍스트와 함께 관련 라인을 반환하는 `search_logs` 구현
- 여러 고객 도구 대신 모든 관련 정보를 컴파일하는 `get_customer_context` 구현

### 도구 네임스페이싱

`asana_projects_search`와 `asana_users_search`처럼 공통 접두사로 관련 도구를 그룹화하면 에이전트가 적절한 도구를 선택하는 데 도움이 됩니다. 접두사 기반과 접미사 기반 네이밍은 평가에서 측정 가능한 차이를 만들어냅니다.

### 의미 있는 컨텍스트 반환하기

유연성보다 관련성을 우선시하여 신호가 높은 정보만 반환하세요. `uuid`나 `mime_type` 같은 저수준 식별자 대신 `name`, `image_url`, `file_type`을 사용하세요. 의미론적 식별자는 환각(hallucination)을 크게 줄입니다.

에이전트가 상세도를 조절할 수 있도록 `response_format` enum 파라미터를 노출하세요:
```
enum ResponseFormat {
   DETAILED = "detailed",
   CONCISE = "concise"
}
```

상세 응답은 후속 호출을 위한 ID를 포함하고, 간결한 응답은 토큰 사용량을 최소화합니다(상세의 ~⅓).

### 토큰 효율성을 위한 도구 응답 최적화

합리적인 기본값과 함께 페이지네이션, 범위 선택, 필터링, 잘라내기를 구현하세요. Claude Code는 기본적으로 도구 응답을 25,000 토큰으로 제한합니다.

잘라낼 때 에이전트를 효율적인 전략으로 안내하세요. 도움이 되지 않는 오류 메시지를 올바른 입력 형식을 보여주는 실행 가능한 안내로 변환하세요.

### 도구 설명에 프롬프트 엔지니어링 적용하기

새로운 팀원에게 설명하듯이 도구를 설명하고, 암묵적인 컨텍스트를 명시적으로 만드세요. 모호하지 않은 파라미터 이름을 사용하세요: `user` 대신 `user_id`. 작은 개선이 극적인 향상을 가져옵니다—Claude Sonnet은 정밀한 도구 설명 개선 후 SWE-bench Verified에서 최고 성능을 달성했습니다.

## 앞으로의 전망

효과적인 도구는 의도적으로 정의되고, 에이전트 컨텍스트를 현명하게 사용하며, 다양한 워크플로우에서 잘 결합되고, 직관적인 실제 문제 해결을 가능하게 합니다. 에이전트가 더 유능해짐에 따라, 체계적인 평가 기반 접근 방식은 도구가 에이전트와 함께 진화하도록 보장합니다.

---

**감사의 글:** Ken Aizawa가 작성했으며 Anthropic의 Research, MCP, Product Engineering, Marketing, Design, Applied AI 팀이 기여했습니다.

---

## 핵심 요약

- **도구의 새로운 정의**: 도구는 결정론적 시스템과 비결정론적 에이전트 사이의 계약이다. 기존 API와 달리 에이전트의 예측 불가능한 동작을 고려한 설계가 필요하다.

- **프로토타입과 평가**: Claude Code로 빠른 프로토타입을 만들고, MCP 서버로 대화형 테스트를 수행한다. 여러 도구 호출이 필요한 현실적인 평가 작업을 설계하여 정확도, 토큰 소비량, 오류 등을 측정한다.

- **적절한 도구 선택**: 도구가 많다고 좋은 것이 아니다. `list_contacts` 대신 `search_contacts`처럼 사람의 검색 방식에 맞게 설계하고, 여러 작업을 하나의 도구로 통합하여 효율성을 높인다.

- **네임스페이싱**: `asana_projects_search`처럼 공통 접두사로 도구를 그룹화하면 에이전트가 적절한 도구를 선택하기 쉬워진다.

- **의미 있는 컨텍스트**: `uuid` 같은 저수준 식별자 대신 `name`, `image_url` 같은 의미론적 식별자를 반환하여 환각을 줄인다. `response_format` 파라미터로 상세도를 조절할 수 있게 한다.

- **토큰 효율성**: 페이지네이션, 필터링, 잘라내기를 구현하고, 오류 메시지를 실행 가능한 안내로 변환한다.

- **도구 설명의 중요성**: 새 팀원에게 설명하듯 명확하게 작성하고, `user` 대신 `user_id`처럼 모호하지 않은 파라미터 이름을 사용한다. 작은 개선이 큰 성능 향상을 가져온다.
